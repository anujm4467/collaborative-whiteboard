<div
  cdkDrag
  [cdkDragBoundary]="dragBoundarySelector"
  class="cw-tool-group"
  [class.cw-tool-group--vertical]="layoutVertical"
  (cdkDragEnded)="cleanCachedDimensions($event)">
  <a
    class="cw-tool-group__action cw-tool-group__action--drag"
    title="Drag / Change direction"
    (dblclick)="layoutVertical = !layoutVertical">
    <cw-icon icon="drag" cdkDragHandle></cw-icon>
  </a>

  <ng-container *ngIf="!collapse">
    <a
      *ngFor="let tool of tools"
      class="cw-tool-group__action cw-tool-group__action--tool"
      [class.cw-tool-group__action--active]="tool.active"
      [title]="tool.title"
      (click)="toggleActive(tool)">
      <ng-container *ngTemplateOutlet="tool.label"></ng-container>
    </a>
  </ng-container>

  <a
    class="cw-tool-group__action cw-tool-group__action--tool"
    [class.cw-tool-group__action--active]="collapse"
    [title]="collapse ? 'Expand' : 'Collapse'"
    (click)="collapse = !collapse">
    <cw-icon [icon]="collapse ? 'expand' : 'collapse'"></cw-icon>
  </a>
</div>

<ng-container #portal></ng-container>
